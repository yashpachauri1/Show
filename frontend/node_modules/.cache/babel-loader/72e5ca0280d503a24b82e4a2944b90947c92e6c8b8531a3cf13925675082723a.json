{"ast":null,"code":"import _regeneratorRuntime from\"C:/react/TaskJob/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/react/TaskJob/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useLoaderData,redirect,json}from\"react-router-dom\";import TaskItem from\"../components/TaskItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Details=function Details(){var data=useLoaderData();var task=data.event;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TaskItem,{task:task})});};export default Details;export function loader(_x){return _loader.apply(this,arguments);}// for delete\nfunction _loader(){_loader=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var request,params,taskId,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:request=_ref.request,params=_ref.params;taskId=params.taskId;_context.next=4;return fetch(\"http://localhost:5000/\".concat(taskId));case 4:response=_context.sent;if(response.ok){_context.next=9;break;}return _context.abrupt(\"return\",new Response(JSON.stringify({message:'Could not fetch events'}),{status:500}));case 9:console.log(response);return _context.abrupt(\"return\",response);case 11:case\"end\":return _context.stop();}},_callee);}));return _loader.apply(this,arguments);}export function action(_x2){return _action.apply(this,arguments);}function _action(){_action=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2){var request,params,taskId,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:request=_ref2.request,params=_ref2.params;taskId=params.taskId;_context2.next=4;return fetch(\"http://localhost:5000/\".concat(taskId),{method:request.method});case 4:response=_context2.sent;if(response.ok){_context2.next=7;break;}throw json({message:'Could not fetch details for selected event'},{status:500});case 7:return _context2.abrupt(\"return\",redirect('/tasks'));case 8:case\"end\":return _context2.stop();}},_callee2);}));return _action.apply(this,arguments);}","map":{"version":3,"names":["useLoaderData","redirect","json","TaskItem","jsx","_jsx","Fragment","_Fragment","Details","data","task","event","children","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","request","params","taskId","response","wrap","_callee$","_context","prev","next","fetch","concat","sent","ok","abrupt","Response","JSON","stringify","message","status","console","log","stop","action","_x2","_action","_callee2","_ref2","_callee2$","_context2","method"],"sources":["C:/react/TaskJob/frontend/src/pages/Details.js"],"sourcesContent":["import { useLoaderData, redirect, json } from \"react-router-dom\";\r\nimport TaskItem from \"../components/TaskItem\";\r\nconst Details = () => {\r\n\r\n    const data = useLoaderData();\r\n\r\n    const task = data.event\r\n\r\n    return (\r\n        <>\r\n            <TaskItem task={task} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Details\r\n\r\nexport async function loader({ request, params }) {\r\n\r\n    const taskId = params.taskId;\r\n\r\n    const response = await fetch(`http://localhost:5000/${taskId}`);\r\n    if (!response.ok) {\r\n        return new Response(JSON.stringify({ message: 'Could not fetch events' }), { status: 500 });\r\n    } else {\r\n        console.log(response)\r\n        return response;\r\n    }\r\n}\r\n// for delete\r\nexport async function action({ request, params }) {\r\n\r\n    const taskId = params.taskId;\r\n\r\n    const response = await fetch(`http://localhost:5000/${taskId}`, {\r\n        method: request.method\r\n    });\r\n    if (!response.ok) {\r\n        throw json({ message: 'Could not fetch details for selected event' }, { status: 500 }\r\n\r\n        );\r\n\r\n    }\r\n\r\n    return redirect('/tasks')\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}